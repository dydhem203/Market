<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.market.mapper.ProductMapper">
    <select id="getProductDataByProductCode" resultType="Product">
        select productCode,productName,price,dcPrice,image,regCnt,remCnt,dcRate,brand,sellerId,unit,amt,origin,allergy,expDate,details,scope
        from product
        where productCode = #{productCode}
    </select>
    <select id="getProductImagesByProductCode" resultType="ProductImage">
        select image, imgOrder
        from productImage
        where productCode = #{productCode}
    </select>
    <select id="getProducts" resultType="Product">
        select productCode,productName,price,dcPrice,image,regCnt,remCnt,dcRate,brand,sellerId,unit,amt,origin,allergy,expDate,details,scope
        from product
    </select>
    <select id="getPopularProducts" resultType="Product">
        select productCode,productName,price,dcPrice,image,regCnt,remCnt,dcRate,brand,sellerId,unit,amt,origin,allergy,expDate,details,scope
        from product limit 8
    </select>
    <select id="getProductsCnt" resultType="_int">
        select count(productCode) as totalProducts
        from product
    </select>
</mapper>